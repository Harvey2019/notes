# 本周工作

## 2021.12.13

### 阅读文献Dynamic Locomotion in the MIT Cheetah 3 Through Convex Model-Predictive Control

* MIT cheetah MPC优化方程的推导（消去x，优化U）

<br /> <br />

### 理解**伪逆**

* 参考博客https://www.cnblogs.com/bigmonkey/p/12070331.html

* A是m*n矩阵，若m>=n（方程数大于变量数），采用左逆，这是最小二乘问题
  $$
    A^{-1}_{left}=(A^{T}A)^{-1}A^{T}
  $$

* A是m*n矩阵，若m<=n（变量数大于方程数，有无数解），采用右逆，这是最小化变量问题
  $$
    A^{-1}_{right}=A^{T}(AA^{T})^{-1}
  $$


<br /> <br />

## 2021.12.14
### 阅读文献*Dynamic Locomotion in the MIT Cheetah 3 Through Convex Model-Predictive Control*
* 能实现多种步态；以trot盲爬楼梯

<br /> <br />

### 理解摆动腿PD+前馈控制
* 末端等效质量（由动力学方程推导得，ETH robotic dynamics note）：
  $$
    \Lambda_{i}=(J_{i}M^{-1}J^{T}_{i})^{-1}
  $$

<br /> <br />

  ### 尝试阅读MIT代码
*  C++语法看不太懂

<br /> <br />

## 2021.12.15
### 学习C++ 函数模板和类模板用法
* bilibili黑马C++视频

<br /> <br />

### 阅读著作Legged Robots That Balance pp.30-51
* 确定落脚点：
  $$
      x_{f}=\frac{\dot{x}T_{S}}{2}+k_{\dot{x}}(\dot{x}-\dot{x}_{d})
  $$
* 其他笔记看readpaper.com

<br /> <br />

## 2021.12.16
### 学习了贝塞尔曲线
* n次贝塞尔曲线：
$$
    p_{n}(t)=\sum_{i = 0}^{n}C^{i}_{n}(1-t)^{n-i}t^{i}P_{i}=\sum_{i = 0}^{n}B_{i,n}P_{i}
$$

<br /> <br />

### 阅读MIT代码
* 机体轨迹
* 摆动腿轨迹
* 摆动腿PD+前馈控制

<br /> <br />

## 2021.12.17
### 阅读著作Legged Robots That Balance pp.52-56
* 局限性：固有速度误差

<br /> <br />

### 阅读MIT代码
* 姿态和角速度直接由NAV_IMU获得
* 基座位置、基座速度和足端位置由KF估计。目前对具体估计方法还不是很懂，后面会继续探索KF的各个矩阵和向量如何构造。

<br /> <br />

## 2021.12.20-23
### 做鸟